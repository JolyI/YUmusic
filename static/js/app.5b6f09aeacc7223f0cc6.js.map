{"version":3,"sources":["webpack:///./src/common/js/dom.js","webpack:///./src/components/tab/tab.vue","webpack:///./src/components/m-header/m-header.vue?2c57","webpack:///./src/components/m-header/m-header.vue","webpack:///src/base/progress-bar/progress-bar.vue","webpack:///./src/base/progress-bar/progress-bar.vue?0aa2","webpack:///./src/base/progress-bar/progress-bar.vue","webpack:///src/base/progress-circle/progress-circle.vue","webpack:///./src/base/progress-circle/progress-circle.vue?72fe","webpack:///./src/base/progress-circle/progress-circle.vue","webpack:///./src/common/js/config.js","webpack:///./src/common/js/util.js","webpack:///src/components/player/player.vue","webpack:///./src/components/player/player.vue?469d","webpack:///./src/components/player/player.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1024","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/actions.js","webpack:///./src/store/mutations-types.js","webpack:///./src/store/getters.js","webpack:///./src/store/state.js","webpack:///./src/store/mutations.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/common/image/loading1.gif","webpack:///./src/components/tab/tab.vue?ac33","webpack:///src/base/scroll/scroll.vue","webpack:///./src/base/scroll/scroll.vue?34eb","webpack:///./src/base/scroll/scroll.vue"],"names":["el","className","RegExp","test","calssName","hasClass","newClass","split","push","join","name","val","setAttribute","getAttribute","__webpack_exports__","style","vendor","charAt","toUpperCase","substr","elementStyle","document","createElement","transformNames","webkit","Moz","O","ms","standard","key","undefined","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1219d67c_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_tab_vue__","__webpack_require__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_tab_vue___default","a","m_header_m_header","render","this","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","_v","components_m_header_m_header","transform","Object","dom","progress_bar","Number","startX","deltaX","offsetWidth","_triggerPercent","percent","getBoundingClientRect","left","progress_bar_progress_bar","_vm","ref","on","click","progressClick","touchstart","$event","preventDefault","progressTouchStart","touchmove","progressTouchMove","touchend","progressTouchEnd","base_progress_bar_progress_bar","progress_bar_normalizeComponent","progress_circle","dashArray","progress_circle_progress_circle","attrs","width","radius","height","viewBox","version","xmlns","r","cx","cy","fill","stroke-dasharray","stroke-dashoffset","dashOffset","_t","base_progress_circle_progress_circle","progress_circle_normalizeComponent","playMode","shuffle","arr","min","max","_arr","slice","i","length","j","Math","floor","random","t","_getPosAndScale","methods","extends_default","mode","sequenceList","index","playing","loop","togglePlaying","next","play","num","len","_this2","handleLyric","currentLyric","lineNum","_ref","precent","pageX","pageY","startY","innerWidth","opacity","time","animation","done","_getPosAndScale2","scale","computed","duration","getLyric","audio","pause","ProgressBar","ProgressCircle","Scroll","scroll_scroll","player_player","directives","rawName","value","playlist","expression","enter","after-enter","afterEnter","leave","after-leave","afterLeave","src","currentSong","image","alt","back","domProps","innerHTML","_s","singer","middleTouchStart","middleTouchMove","middleTouchEnd","class","cdCls","playingLyric","data","lines","_l","line","refInFor","current","currentLineNum","txt","_e","active","currentShow","format","currentTime","percentChange","onProgressBarChange","iconMode","changeMode","disableCls","prev","palyIcon","fullScreen","open","miniIcon","stopPropagation","url","ended","end","canplay","ready","error","timeupdate","updateTime","components_player_player","player_normalizeComponent","player","App","MHeader","tab","Player","selectortype_template_index_0_src_App","id","src_App","App_normalizeComponent","vue_esm","use","vue_router_esm","SingerDetail","resolve","Promise","all","e","then","bind","module","router","linkActiveClass","routes","path","redirect","component","children","reslove","actions_selectPlay","_ref2","commit","list","state","actions_randomPlay","_ref3","_ref4","getters_mode","currentIndex","disc","topList","store_state","store_mutations","mutations","defineProperty_default","_mutations","flag","toplist","vuex_esm","store","Store","actions","actions_namespaceObject","getters","getters_namespaceObject","strict","plugins","config","productionTip","vue_lazyload_default","loading","template","components","exports","p","esExports","tag","to","Boolean","Array","_this","_initScroll","probeType","disable","enable","refresh","arguments","_this3","base_scroll_scroll"],"mappings":"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","file":"static/js/app.5b6f09aeacc7223f0cc6.js","sourcesContent":["/**\r\n * Created by bsj01 on 2018/1/8.\r\n */\r\nexport function addClass(el, className) {\r\n  if (hasClass(el, className)) {\r\n    return\r\n  }//如果dom对象有calssname 直接返回\r\n\r\n  // 获取calssname\r\n  let newClass = el.className.split(' ')//拆开classsname\r\n  newClass.push(className)\r\n  el.className = newClass.join(' ')\r\n\r\n  // 先把他拆成数组，然后push进去，然后join链接起来  完成cals的添加\r\n}\r\n\r\n//判断是否有class\r\nexport function hasClass(el, className) {\r\n  //正则判断是否有calass\r\n  let reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)');\r\n  //                   calss（\\表示转移） 前面是空白字符    空白自负结束\r\n  return reg.test(el.calssName)\r\n}\r\n\r\n//获取index 是个基础的dom操作  提取出来\r\nexport function getData(el, name, val) {\r\n  // 有val 就set  没有就get\r\n  const prefix = 'data-'  // 获取data-···的数据\r\n   name = prefix + name\r\n  if (val) {\r\n    return el.setAttribute(name, val)\r\n  } else {\r\n    return el.getAttribute(name)\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n//浏览器能力检测 当js需要兼容浏览器时候  自动判断 去加载前缀\r\nlet elementStyle = document.createElement('div').style\r\n\r\nlet vendor = (() => {\r\n  let transformNames = {\r\n    webkit: 'webkitTransform',\r\n    Moz: 'MozTransform',\r\n    O: 'OTransform',\r\n    ms: 'msTransform',\r\n    standard: 'transform'\r\n  }\r\n\r\n  for (let key in transformNames) {\r\n    if (elementStyle[transformNames[key]] !== undefined) {\r\n      return key\r\n    }\r\n  }\r\n\r\n  return false\r\n})()\r\n\r\nexport function prefixStyle(style) {\r\n  if (vendor === false) {\r\n    return false\r\n  }\r\n\r\n  if (vendor === 'standard') {\r\n    return style\r\n  }\r\n\r\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/dom.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1219d67c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tab.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tab.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tab.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1219d67c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./tab.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1219d67c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tab/tab.vue\n// module id = BrIN\n// module chunks = 9","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-herder\"},[_c('div',{staticClass:\"icon\"}),_vm._v(\" \"),_c('h1',{staticClass:\"text\"},[_vm._v(\"Music\")]),_vm._v(\" \"),_c('div',{staticClass:\"mine\"},[_c('i',{staticClass:\"icon-mine\"})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-338e84e1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/m-header/m-header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-338e84e1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./m-header.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./m-header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./m-header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-338e84e1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./m-header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-338e84e1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/m-header/m-header.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"progress-bar\" ref=\"progressBar\" @click=\"progressClick\">\r\n    <div class=\"bar-inner\">\r\n      <div class=\"progress\" ref=\"progress\"></div>\r\n      <div class=\"progress-btn-wrapper\"\r\n           ref=\"progressBtn\"\r\n           @touchstart.prevent=\"progressTouchStart\"\r\n           @touchmove.prevent=\"progressTouchMove\"\r\n           @touchend=\"progressTouchEnd\"\r\n      >\r\n        <div class=\"progress-btn\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import {prefixStyle} from 'common/js/dom'\r\n  const progressBtnWidth = 16\r\n  const transform = prefixStyle('transform')\r\n  export default{\r\n    props: {\r\n      precent: {\r\n        type: Number,\r\n        default: 0\r\n      }\r\n    },\r\n    created(){\r\n      this.touch = {}   //实例上的对象 ，不同的钩子函数来共享数据，将数据挂载到这个对象\r\n    },\r\n    methods: {\r\n      progressTouchStart(e){\r\n        this.touch.initiated = true   //定义标识为  表示已经初始化\r\n        this.touch.startX = e.touches[0].pageX  //记录点击位置 第一个手指点击的位置\r\n        this.touch.left = this.$refs.progress.clientWidth  //记录点击时候进度条已经偏移多少\r\n\r\n      },\r\n      progressTouchMove(e){\r\n        if (!this.touch.initiated) {\r\n          return\r\n        }\r\n        const deltaX = e.touches[0].pageX - this.touch.startX\r\n        const offsetWidth = Math.min(this.$refs.progressBar.clientWidth - progressBtnWidth, Math.max(0, this.touch.left + deltaX))\r\n        this._offset(offsetWidth)\r\n      },\r\n      progressTouchEnd(e){\r\n        this.touch.initiated = false\r\n        this._triggerPercent()\r\n      },\r\n      _offset(offsetWidth){\r\n        this.$refs.progress.style.width = `${offsetWidth}px`\r\n        this.$refs.progressBtn.style[transform] = `translate3d(${offsetWidth}px,0,0)`\r\n      },\r\n      _triggerPercent(){\r\n        const barWidth = this.$refs.progressBar.clientWidth - progressBtnWidth\r\n        const percent = this.$refs.progress.clientWidth / barWidth  //运动的距离\r\n        this.$emit('percentChange', percent)\r\n      },\r\n      progressClick(e){\r\n        const rect = this.$refs.progressBar.getBoundingClientRect()\r\n        const offsetWidth = e.pageX - rect.left\r\n        this._offset(offsetWidth)\r\n        //this._offset(e.offsetX)  //设置点击的位置\r\n        this._triggerPercent()\r\n      }\r\n\r\n    },\r\n    watch: {\r\n      precent(newPrecent){\r\n        if (newPrecent >= 0 && !this.touch.initiated) {  // && !this.touch.initiated表示当拖动的时候就不会再改变bar的宽度\r\n          const barWidth = this.$refs.progressBar.clientWidth - progressBtnWidth\r\n          const offsetWidth = newPrecent * barWidth\r\n          this._offset(offsetWidth)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"stylus\" type=\"text/stylus\" rel=\"stylesheet/stylus\" scoped>\r\n  @import \"~common/stylus/variable\"\r\n\r\n  .progress-bar\r\n    height: 30px\r\n    .bar-inner\r\n      position: relative\r\n      top: 13px\r\n      height: 4px\r\n      background: rgba(0, 0, 0, 0.3)\r\n      .progress\r\n        position: absolute\r\n        height: 100%\r\n        background: $color-theme\r\n      .progress-btn-wrapper\r\n        position: absolute\r\n        left: -8px\r\n        top: -13px\r\n        width: 30px\r\n        height: 30px\r\n        .progress-btn\r\n          position: relative\r\n          top: 7px\r\n          left: 7px\r\n          box-sizing: border-box\r\n          width: 16px\r\n          height: 16px\r\n          border: 3px solid $color-text\r\n          border-radius: 50%\r\n          background: $color-theme\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/progress-bar/progress-bar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"progressBar\",staticClass:\"progress-bar\",on:{\"click\":_vm.progressClick}},[_c('div',{staticClass:\"bar-inner\"},[_c('div',{ref:\"progress\",staticClass:\"progress\"}),_vm._v(\" \"),_c('div',{ref:\"progressBtn\",staticClass:\"progress-btn-wrapper\",on:{\"touchstart\":function($event){$event.preventDefault();return _vm.progressTouchStart($event)},\"touchmove\":function($event){$event.preventDefault();return _vm.progressTouchMove($event)},\"touchend\":_vm.progressTouchEnd}},[_c('div',{staticClass:\"progress-btn\"})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5dbcaa06\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/progress-bar/progress-bar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dbcaa06\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./progress-bar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./progress-bar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./progress-bar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5dbcaa06\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./progress-bar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5dbcaa06\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/progress-bar/progress-bar.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"progress-circle\">\r\n    <svg :width=\"radius\" :height=\"radius\" viewBox=\"0 0 100 100\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle class=\"progress-background\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\"/>\r\n      <circle class=\"progress-bar\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\" :stroke-dasharray=\"dashArray\"\r\n              :stroke-dashoffset=\"dashOffset\"/>\r\n    </svg>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default{\r\n    props: {\r\n      radius: {\r\n        type: Number,\r\n        default: 100\r\n      },\r\n      precent: {\r\n        type: Number,\r\n        default: 0\r\n      }\r\n\r\n\r\n    },\r\n    data(){\r\n      return {\r\n        dashArray: Math.PI * 100  //计算圆的周长\r\n      }\r\n\r\n    },\r\n    computed: {\r\n      dashOffset(){\r\n        return (1 - this.precent) * this.dashArray\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"stylus\" type=\"text/stylus\" rel=\"stylesheet/stylus\" scoped>\r\n  @import \"~common/stylus/variable\"\r\n\r\n  .progress-circle\r\n    position: relative\r\n    circle\r\n      stroke-width: 8px\r\n      transform-origin: center\r\n      &.progress-background\r\n        transform: scale(0.9)\r\n        stroke: $color-theme-d\r\n      &.progress-bar\r\n        transform: scale(0.9) rotate(-90deg)\r\n        stroke: $color-theme\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/progress-circle/progress-circle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress-circle\"},[_c('svg',{attrs:{\"width\":_vm.radius,\"height\":_vm.radius,\"viewBox\":\"0 0 100 100\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{staticClass:\"progress-background\",attrs:{\"r\":\"50\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\"}}),_vm._v(\" \"),_c('circle',{staticClass:\"progress-bar\",attrs:{\"r\":\"50\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\",\"stroke-dasharray\":_vm.dashArray,\"stroke-dashoffset\":_vm.dashOffset}})]),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-30429ebc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/progress-circle/progress-circle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30429ebc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./progress-circle.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./progress-circle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./progress-circle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-30429ebc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./progress-circle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-30429ebc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/progress-circle/progress-circle.vue\n// module id = null\n// module chunks = ","/**\r\n * Created by bsj01 on 2018/1/26.\r\n */\r\nexport const playMode = {\r\n  sequence: 0,\r\n  loop: 1,\r\n  random: 2\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/config.js","function getRandomInt(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min)\r\n\r\n}\r\nexport function shuffle(arr) {\r\n  let _arr =arr.slice()\r\n  for (let i = 0; i < _arr.length; i++) {\r\n    let j = getRandomInt(0, i)\r\n    let t = arr[i]\r\n    _arr[i] = arr[j]\r\n    _arr[j] = t\r\n  }\r\n  return _arr\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/util.js","<template>\r\n  <div class=\"player\" v-show=\"playlist.length>0\">\r\n    <transition name=\"normal\"\r\n                @enter=\"enter\"\r\n                @after-enter=\"afterEnter\"\r\n                @leave=\"leave\"\r\n                @after-leave=\"afterLeave\"\r\n    >\r\n      <div class=\"normal-player\" v-show=\"fullScreen\">\r\n        <div class=\"background\">\r\n          <img :src=\"currentSong.image\" width=\"100%\" height=\"100%\" alt=\"\">\r\n        </div>\r\n        <div class=\"top\">\r\n          <div class=\"back\" @click=\"back\">\r\n            <i class=\"icon-back\"></i>\r\n          </div>\r\n          <h1 class=\"title\" v-html=\"currentSong.name\"></h1>\r\n          <h2 class=\"subtitle\" v-html=\"currentSong.singer\"></h2>\r\n        </div>\r\n        <div class=\"middle\"\r\n             @touchstart.prevent=\"middleTouchStart\"\r\n             @touchmove.prevent=\"middleTouchMove\"\r\n             @touchend=\"middleTouchEnd\"\r\n        >\r\n          <div class=\"middle-l\" ref=\"middleL\">\r\n            <div class=\"cd-wrapper\" ref=\"cdwrapper\">\r\n              <div class=\"cd\" :class=\"cdCls\">\r\n                <img class=\"image\" :src=\"currentSong.image\" alt=\"\">\r\n              </div>\r\n            </div>\r\n            <div class=\"playing-lyric-wrapper\">\r\n              <div class=\"playing-lyric\">{{playingLyric}}</div>\r\n            </div>\r\n\r\n          </div>\r\n          <scroll class=\"middle-r\" ref=\"lyricList\" :data=\"currentLyric && currentLyric.lines\">\r\n            <div class=\"lyric-wrapper\">\r\n              <div v-if=\"currentLyric\">\r\n                <p ref=\"lyricLine\"\r\n                   class=\"text\"\r\n                   :class=\"{'current': currentLineNum ===index}\"\r\n                   v-for=\"(line,index) in currentLyric.lines\">{{line.txt}}</p>\r\n              </div>\r\n            </div>\r\n          </scroll>\r\n        </div>\r\n        <div class=\"bottom\">\r\n          <div class=\"dot-wrapper\">\r\n            <span class=\"dot\" :class=\"{'active':currentShow==='cd'}\"></span>\r\n            <span class=\"dot\" :class=\"{'active':currentShow==='lyric'}\"></span>\r\n          </div>\r\n          <div class=\"progress-wrapper\">\r\n            <span class=\"time time-l\">{{format(currentTime)}}</span>\r\n            <span class=\"progress-bar-wrapper\">\r\n              <ProgressBar @percentChange=\"onProgressBarChange\" :precent=\"precent\"></ProgressBar>\r\n            </span>\r\n            <span class=\"time time-r\">{{format(currentSong.duration)}}</span>\r\n          </div>\r\n\r\n          <div class=\"operators\">\r\n            <div class=\"icon i-left\">\r\n              <i :class=\"iconMode\" @click=\"changeMode\"></i>\r\n            </div>\r\n            <div class=\"icon i-left\" :class=\"disableCls\">\r\n              <i class=\"icon-prev\" @click=\"prev\"></i>\r\n            </div>\r\n            <div class=\"icon i-center\" :class=\"disableCls\">\r\n              <i @click=\"togglePlaying\" :class=\"palyIcon\"></i>\r\n            </div>\r\n            <div class=\"icon i-right\" :class=\"disableCls\">\r\n              <i class=\"icon-next\" @click=\"next\"></i>\r\n            </div>\r\n            <div class=\"icon i-right\">\r\n              <i class=\"icon icon-not-favorite\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"mini\">\r\n      <div class=\"mini-player\" v-show=\"!fullScreen\" @click=\"open\">\r\n        <div class=\"icon\">\r\n          <img :class=\"cdCls\" :src=\"currentSong.image\" width=\"40\" height=\"40\" alt=\"\">\r\n        </div>\r\n        <div class=\"text\">\r\n          <h2 class=\"name\" v-html=\"currentSong.name\"></h2>\r\n          <p class=\"desc\" v-html=\"currentSong.singer\"></p>\r\n        </div>\r\n        <div class=\"control\">\r\n          <progress-circle :radius=\"32\" :precent=\"precent\">\r\n            <i @click.stop=\"togglePlaying\" :class=\"miniIcon\" class=\"icon-mini\"></i>\r\n          </progress-circle>\r\n\r\n        </div>\r\n        <div class=\"control\">\r\n          <i class=\"icon-playlist\"></i>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <audio @ended=\"end\" ref=\"audio\" :src=\"currentSong.url\" @canplay=\"ready\" @error=\"error\"\r\n           @timeupdate=\"updateTime\"></audio>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import {mapGetters, mapMutations} from 'vuex'\r\n  import animations from 'create-keyframe-animation'\r\n  import {prefixStyle} from 'common/js/dom'\r\n  import ProgressBar from 'base/progress-bar/progress-bar'\r\n  import ProgressCircle from 'base/progress-circle/progress-circle'\r\n  import {playMode} from 'common/js/config'\r\n  import {shuffle} from 'common/js/util'\r\n  import Lyric from 'lyric-parser'\r\n  const transform = prefixStyle('transform')\r\n  const transitionDuration = prefixStyle('transitionDuration')\r\n  import Scroll from 'base/scroll/scroll'\r\n  export default{\r\n    data(){\r\n      return {\r\n        songReady: false,   //添加标识位  判断audio标签是否ready 来决定是否切换下一首歌\r\n        currentTime: 0,\r\n        //audio 中timeupdate 会在播放时派发这个事件\r\n        currentLyric: null,\r\n        currentLineNum: 0,\r\n        currentShow: 'cd',\r\n        playingLyric: null\r\n      }\r\n    },\r\n    created(){\r\n      this._getPosAndScale()\r\n      this.touch = {}\r\n    },\r\n    methods: {\r\n      back(){\r\n        this.setFullScreen(false)\r\n      },\r\n      open(){\r\n        this.setFullScreen(true)\r\n      },\r\n      changeMode(){ //改变播放模式\r\n        const mode = (this.mode + 1) % 3\r\n        this.setPlayMode(mode)\r\n        let list = null\r\n        if (mode === playMode.random) {\r\n          list = shuffle(this.sequenceList)  //如果播放模式是随机的则让有序列表洗牌打乱\r\n        } else {\r\n          list = this.sequenceList\r\n        }\r\n        this.resetCurrentIndex(list) //当playlist改变时候currentindex来保证currentid不改变\r\n        this.setPlayList(list) //将播放列表设置为当前打乱的列表\r\n      },\r\n      resetCurrentIndex(list){   //切换播放模式的时候当前的currentsong的id是不能变化的 需要重新设置index\r\n        let index = list.findIndex((item) => { //es6语法\r\n          return item.id === this.currentSong.id //在列表里面找到当前歌曲的索引\r\n        })\r\n        this.setCurrentIndex(index)\r\n\r\n      },\r\n      togglePlaying(){ //根据vuex设置播放状态\r\n        this.setPlayingState(!this.playing)\r\n        if (this.currentLyric) {\r\n          this.currentLyric.togglePlay()  //lyric、对象里面封装得这个歌词的暂停播放方法\r\n\r\n        }\r\n\r\n      },\r\n      prev(){\r\n        if (!this.songReady) {\r\n          return\r\n        }\r\n        if (this.playlist.length === 1) {\r\n          this.loop()\r\n        } else {\r\n          let index = this.currentIndex - 1\r\n          if (index === -1) {\r\n            index = this.playlist.length - 1\r\n          }\r\n          this.setCurrentIndex(index)\r\n          if (!this.playing) {\r\n            this.togglePlaying()\r\n          }\r\n        }\r\n        this.songReady = false\r\n      },\r\n      next(){\r\n        if (!this.songReady) {\r\n          return\r\n        }\r\n        if (this.playlist.length === 1) {\r\n          this.loop()\r\n        } else {\r\n          let index = this.currentIndex + 1\r\n          if (index === this.playlist.length) {\r\n            index = 0\r\n          }\r\n          this.setCurrentIndex(index)\r\n          if (!this.playing) {\r\n            this.togglePlaying()\r\n          }\r\n        }\r\n        this.songReady = false\r\n\r\n      },\r\n      end(){  //audio标签的默认事件，当播放完之后执行\r\n        if (this.mode === playMode.loop) {\r\n          this.loop()\r\n        } else {\r\n          this.next()\r\n        }\r\n      },\r\n      loop(){  //单曲循环\r\n        this.$refs.audio.currentTime = 0\r\n        this.$refs.audio.play()\r\n        if (this.currentLyric) {\r\n          this.currentLyric.seek(0)\r\n        }\r\n\r\n      },\r\n      ready(){\r\n        this.songReady = true\r\n      },\r\n      error(){\r\n        //当网络错误 或者加载失败 歌曲不存在 会加载这个函数  让他能点击找到下一个\r\n        this.songReady = true\r\n      },\r\n      updateTime(e){\r\n        this.currentTime = e.target.currentTime   //audio有currenttime这个属性 ：设置或返回音频/视频中的当前播放位置（以秒计）。\r\n      },\r\n      format(interval){  //将获取的时间戳 做个计算\r\n        interval = interval | 0  //向下取整\r\n        const minute = interval / 60 | 0\r\n        const seconed = this._pad(interval % 60)\r\n        return `${minute}:${seconed}`\r\n      },\r\n\r\n      _pad(num, n = 2){   //用来判断当秒只有一位数的时候前面加个0\r\n        let len = num.toString().length\r\n        if (len < n) {\r\n          num = '0' + num\r\n          len++\r\n        }\r\n        return num\r\n\r\n      },\r\n      getLyric(){\r\n\r\n        this.currentSong.getLyric().then((lyric) => {\r\n          this.currentLyric = new Lyric(lyric, this.handleLyric)\r\n          if (this.playing) {\r\n            this.currentLyric.play() //Lyric属性有个play方法\r\n          }\r\n          console.log(this.currentLyric);\r\n        }).catch(() => {  //当不能获取到歌词的时候 清理数据\r\n          this.currentLyric = null\r\n          this.playingLyric = ''\r\n          this.currentLineNum = 0\r\n\r\n        })\r\n\r\n\r\n      },\r\n      handleLyric({lineNum, txt}){\r\n        this.currentLineNum = lineNum\r\n        if (lineNum > 5) {  //控制歌词在中间显示\r\n          let lineEl = this.$refs.lyricLine[lineNum - 5]\r\n          this.$refs.lyricList.scrollToElement(lineEl, 1000)//BScroll的方法\r\n        } else {\r\n          this.$refs.lyricList.scrollTo(0, 0, 1000)\r\n        }\r\n        this.playingLyric = txt  //表示当前的这个歌词\r\n      },\r\n      onProgressBarChange(precent){  //从progress传过来的值来调整播放的时间\r\n        const currentTime = this.currentSong.duration * precent\r\n        this.$refs.audio.currentTime = this.currentSong.duration * precent\r\n        if (!this.playing) {  //当时暂停状态的时候 拖动之后调用播放\r\n          this.togglePlaying()\r\n        }\r\n        if (this.currentLyric) {\r\n          this.currentLyric.seek(currentTime * 1000)\r\n        }\r\n      },\r\n      middleTouchStart(e) {\r\n        this.touch.initated = true\r\n        const touch = e.touches[0]\r\n        this.touch.startX = touch.pageX\r\n        this.touch.startY = touch.pageY\r\n      },\r\n      middleTouchMove(e) {\r\n        if (!this.touch.initated) {\r\n          return\r\n        }\r\n        const touch = e.touches[0]\r\n        const deltaX = touch.pageX - this.touch.startX\r\n        const deltaY = touch.pageY - this.touch.startY\r\n        if (Math.abs(deltaY) > Math.abs(deltaX)) {\r\n          return\r\n        }\r\n        const left = this.currentShow === 'cd' ? 0 : -window.innerWidth\r\n        const offsetWidth = Math.min(0, Math.max(left + deltaX, -window.innerWidth))  //根据手指滑动的距离来判断歌词页面移动的位置 要么是0 ，要么是负的屏幕的宽度，\r\n        this.touch.precent = Math.abs(offsetWidth / window.innerWidth)\r\n        console.log(this.touch.precent);\r\n        this.$refs.lyricList.$el.style[transform] = `translate3d(${offsetWidth}px,0,0)` //scroll是vue的组件是无法直接取到dom 需要去到$el才能设置样式\r\n        this.$refs.lyricList.$el.style[transitionDuration] = 0\r\n        this.$refs.middleL.style.opacity = 1 - this.touch.precent\r\n        this.$refs.middleL.style[transitionDuration] = 0\r\n      },\r\n      middleTouchEnd() {\r\n        let offsetWidth\r\n        let opacity\r\n        if (this.currentShow === 'cd') {\r\n          if (this.touch.precent > 0.1) {  //从左往右滑动 precent会从0 开始\r\n            offsetWidth = -window.innerWidth\r\n            opacity = 0\r\n            this.currentShow = 'lyric'\r\n          } else {\r\n            offsetWidth = 0\r\n            opacity = 1\r\n          }\r\n\r\n        } else {\r\n          if (this.touch.precent < 0.9) {  //当屏幕滑动之后到-window。innerwidth时候 从右往左滑动会从1开始减小， this.touch.precent可观察值的变化\r\n            offsetWidth = 0\r\n            this.currentShow = 'cd'\r\n            opacity = 1\r\n\r\n          } else {\r\n            offsetWidth = -window.innerWidth\r\n            opacity = 0\r\n\r\n          }\r\n        }\r\n        const time = 300\r\n        this.$refs.lyricList.$el.style[transform] = `translate3d(${offsetWidth}px,0,0)`\r\n        this.$refs.lyricList.$el.style[transitionDuration] = `${time}ms`\r\n        this.$refs.middleL.style.opacity = opacity\r\n        this.$refs.middleL.style[transitionDuration] = `${time}ms`\r\n\r\n      },\r\n      ...mapMutations({   //mutation的映射\r\n        setFullScreen: 'SET_FULL_SCREEN',\r\n        setPlayingState: 'SET_PLAYING_STATE',\r\n        setCurrentIndex: 'SET_CURRENT_INDEX',  //currentindex切换歌曲原理是 getter里面写了方法  用curretnindex决定currnetsong\r\n        setPlayMode: 'SET_PLAY_MODE',\r\n        setPlayList: 'SET_PLAYLIST'\r\n      }),\r\n      enter(el, done) {\r\n        const {x, y, scale} = this._getPosAndScale()\r\n\r\n        let animation = {\r\n          0: {\r\n            transform: `translate3d(${x}px,${y}px,0) scale(${scale})`\r\n          },\r\n          60: {\r\n            transform: `translate3d(0,0,0) scale(1.1)`\r\n          },\r\n          100: {\r\n            transform: `translate3d(0,0,0) scale(1)`\r\n          }\r\n        }\r\n\r\n        animations.registerAnimation({\r\n          name: 'move',\r\n          animation,\r\n          presets: {\r\n            duration: 400,\r\n            easing: 'linear'\r\n          }\r\n        })\r\n\r\n        animations.runAnimation(this.$refs.cdwrapper, 'move', done)\r\n      },\r\n      afterEnter(){\r\n        animations.unregisterAnimation('move')\r\n        this.$refs.cdwrapper.style.animation = ''\r\n      },\r\n      leave(el, done) {\r\n        this.$refs.cdwrapper.style.transition = 'all 0.4s'\r\n        const {x, y, scale} = this._getPosAndScale()\r\n        this.$refs.cdwrapper.style[transform] = `translate3d(${x}px,${y}px,0) scale(${scale})`\r\n        this.$refs.cdwrapper.addEventListener('transitionend', done)//监听完成动画之后的事件\r\n      },\r\n      afterLeave() {\r\n        this.$refs.cdwrapper.style.transition = ''\r\n        this.$refs.cdwrapper.style[transform] = ''\r\n\r\n      },\r\n      _getPosAndScale(){\r\n//        计算出动画过度的位置，从初始位置到过度的位置\r\n        const targetWidth = 40\r\n        const paddingLeft = 40\r\n        const paddingBottom = 30\r\n        const paddingTop = 80\r\n        const width = window.innerWidth * 0.8\r\n        const scale = targetWidth / width\r\n        const x = -(window.innerWidth / 2 - paddingLeft)\r\n        const y = window.innerHeight - paddingTop - width / 2 - paddingBottom\r\n\r\n        return {\r\n          x, y, scale\r\n        }\r\n      }\r\n\r\n    },\r\n    computed: {\r\n      //根据播放状态确定图片旋转样式\r\n      cdCls(){\r\n        return this.playing ? 'play' : 'play pause'\r\n\r\n      },\r\n      palyIcon(){\r\n        return this.playing ? 'icon-pause' : 'icon-play'\r\n      },\r\n      miniIcon(){\r\n        return this.playing ? 'icon-pause-mini' : 'icon-play-mini'\r\n      },\r\n      iconMode(){\r\n        return this.mode === playMode.sequence ? 'icon-sequence' : this.mode === playMode.loop ? 'icon-loop' : 'icon-random'\r\n      },\r\n      disableCls(){\r\n        return this.songReady ? '' : 'disable'\r\n      },\r\n      precent(){  //歌曲播放的比例\r\n        return this.currentTime / this.currentSong.duration\r\n      },\r\n      ...mapGetters([  //vuex取得所需要的状态\r\n        'fullScreen',\r\n        'playlist',\r\n        'currentSong',\r\n        'playing',\r\n        'currentIndex',\r\n        'mode',\r\n        'sequenceList'\r\n      ]),\r\n\r\n\r\n    },\r\n    watch: {\r\n      currentSong(newSong, oldSong){   //更具url的变化 来确定播放状态\r\n        if (newSong.id === oldSong.id) {   //若果id不变 就直接返回\r\n          return\r\n        }\r\n        if (this.currentLyric) {\r\n          this.currentLyric.stop()   //currentLyric这个对象中有stop（）来清除计时器，paly（）属性  当页面存在currentLyric时候就清除当前的这个计时器来执行下一个更新的lyric\r\n        }\r\n\r\n        this.$nextTick(() => {    //需要再dom加载完成之后 来获取dom\r\n          this.$refs.audio.play()  //currentLyric里面的计时器执行play方法\r\n          this.getLyric()\r\n        })\r\n      },\r\n      playing(newPlaying){\r\n        const audio = this.$refs.audio\r\n        setTimeout(() => {   //需要再dom加载完成之后 来获取dom\r\n          newPlaying ? audio.play() : audio.pause()\r\n        }, 1000)//这里不用#nexttick是为了保证微信端 后台前台切换能保证歌曲正常重新播放\r\n\r\n      }\r\n    },\r\n    components: {\r\n      ProgressBar,\r\n      ProgressCircle,\r\n      Scroll\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" type=\"text/stylus\" rel=\"stylesheet/stylus\" scoped>\r\n  @import \"~common/stylus/variable\"\r\n  @import \"~common/stylus/mixin\"\r\n\r\n  .player\r\n    .normal-player\r\n      position: fixed\r\n      left: 0\r\n      right: 0\r\n      top: 0\r\n      bottom: 0\r\n      z-index: 150\r\n      background: $color-background\r\n      .background\r\n        position: absolute\r\n        left: 0\r\n        top: 0\r\n        width: 100%\r\n        height: 100%\r\n        z-index: -1\r\n        opacity: 0.6\r\n        filter: blur(20px)\r\n      .top\r\n        position: relative\r\n        margin-bottom: 25px\r\n        .back\r\n          position absolute\r\n          top: 0\r\n          left: 6px\r\n          z-index: 50\r\n          .icon-back\r\n            display: block\r\n            padding: 9px\r\n            font-size: $font-size-large-x\r\n            color: $color-theme\r\n            transform: rotate(-90deg)\r\n        .title\r\n          width: 70%\r\n          margin: 0 auto\r\n          line-height: 40px\r\n          text-align: center\r\n          no-wrap()\r\n          font-size: $font-size-large\r\n          color: $color-text\r\n        .subtitle\r\n          line-height: 20px\r\n          text-align: center\r\n          font-size: $font-size-medium\r\n          color: $color-text\r\n      .middle\r\n        position: fixed\r\n        width: 100%\r\n        top: 80px\r\n        bottom: 170px\r\n        white-space: nowrap\r\n        font-size: 0\r\n        .middle-l\r\n          display: inline-block\r\n          vertical-align: top\r\n          position: relative\r\n          width: 100%\r\n          height: 0\r\n          padding-top: 80%\r\n          .cd-wrapper\r\n            position: absolute\r\n            left: 10%\r\n            top: 0\r\n            width: 80%\r\n            height: 100%\r\n            .cd\r\n              width: 100%\r\n              height: 100%\r\n              box-sizing: border-box\r\n              border: 10px solid rgba(255, 255, 255, 0.1)\r\n              border-radius: 50%\r\n              &.play\r\n                animation: rotate 20s linear infinite\r\n              &.pause\r\n                animation-play-state: paused\r\n              .image\r\n                position: absolute\r\n                left: 0\r\n                top: 0\r\n                width: 100%\r\n                height: 100%\r\n                border-radius: 50%\r\n\r\n          .playing-lyric-wrapper\r\n            width: 80%\r\n            margin: 30px auto 0 auto\r\n            overflow: hidden\r\n            text-align: center\r\n            .playing-lyric\r\n              height: 20px\r\n              line-height: 20px\r\n              font-size: $font-size-medium\r\n              color: $color-text-l\r\n        .middle-r\r\n          display: inline-block\r\n          vertical-align: top\r\n          width: 100%\r\n          height: 100%\r\n          overflow: hidden\r\n          .lyric-wrapper\r\n            width: 80%\r\n            margin: 0 auto\r\n            overflow: hidden\r\n            text-align: center\r\n            .text\r\n              line-height: 32px\r\n              color: $color-text-l\r\n              font-size: $font-size-medium\r\n              &.current\r\n                color: $color-text\r\n      .bottom\r\n        position: absolute\r\n        bottom: 50px\r\n        width: 100%\r\n        .dot-wrapper\r\n          text-align: center\r\n          font-size: 0\r\n          .dot\r\n            display: inline-block\r\n            vertical-align: middle\r\n            margin: 0 4px\r\n            width: 8px\r\n            height: 8px\r\n            border-radius: 50%\r\n            background: $color-text-l\r\n            &.active\r\n              width: 20px\r\n              border-radius: 5px\r\n              background: $color-text-ll\r\n        .progress-wrapper\r\n          display: flex\r\n          align-items: center\r\n          width: 80%\r\n          margin: 0px auto\r\n          padding: 10px 0\r\n          .time\r\n            color: $color-text\r\n            font-size: $font-size-small\r\n            flex: 0 0 30px\r\n            line-height: 30px\r\n            width: 30px\r\n            &.time-l\r\n              text-align: left\r\n            &.time-r\r\n              text-align: right\r\n          .progress-bar-wrapper\r\n            flex: 1\r\n        .operators\r\n          display: flex\r\n          align-items: center\r\n          .icon\r\n            flex: 1\r\n            color: $color-theme\r\n            &.disable\r\n              color: $color-theme-d\r\n            i\r\n              font-size: 30px\r\n          .i-left\r\n            text-align: right\r\n          .i-center\r\n            padding: 0 20px\r\n            text-align: center\r\n            i\r\n              font-size: 40px\r\n          .i-right\r\n            text-align: left\r\n          .icon-favorite\r\n            color: $color-sub-theme\r\n      &.normal-enter-active, &.normal-leave-active\r\n        transition: all 0.4s\r\n        .top, .bottom\r\n          transition: all 0.4s cubic-bezier(0.86, 0.18, 0.82, 1.32)\r\n      &.normal-enter, &.normal-leave-to\r\n        opacity: 0\r\n        .top\r\n          transform: translate3d(0, -100px, 0)\r\n        .bottom\r\n          transform: translate3d(0, 100px, 0)\r\n    .mini-player\r\n      display: flex\r\n      align-items: center\r\n      position: fixed\r\n      left: 0\r\n      bottom: 0\r\n      z-index: 180\r\n      width: 100%\r\n      height: 60px\r\n      background: $color-highlight-background\r\n      &.mini-enter-active, &.mini-leave-active\r\n        transition: all 0.4s\r\n      &.mini-enter, &.mini-leave-to\r\n        opacity: 0\r\n      .icon\r\n        flex: 0 0 40px\r\n        width: 40px\r\n        padding: 0 10px 0 20px\r\n        img\r\n          border-radius: 50%\r\n          &.play\r\n            animation: rotate 10s linear infinite\r\n          &.pause\r\n            animation-play-state: paused\r\n      .text\r\n        display: flex\r\n        flex-direction: column\r\n        justify-content: center\r\n        flex: 1\r\n        line-height: 20px\r\n        overflow: hidden\r\n        .name\r\n          margin-bottom: 2px\r\n          no-wrap()\r\n          font-size: $font-size-medium\r\n          color: $color-text\r\n        .desc\r\n          no-wrap()\r\n          font-size: $font-size-small\r\n          color: $color-text-d\r\n      .control\r\n        flex: 0 0 30px\r\n        width: 30px\r\n        padding: 0 10px\r\n        .icon-play-mini, .icon-pause-mini, .icon-playlist\r\n          font-size: 30px\r\n          color: $color-theme-d\r\n        .icon-mini\r\n          font-size: 32px\r\n          position: absolute\r\n          left: 0\r\n          top: 0\r\n\r\n  @keyframes rotate\r\n    0%\r\n      transform: rotate(0)\r\n    100%\r\n      transform: rotate(360deg)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/player/player.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playlist.length>0),expression:\"playlist.length>0\"}],staticClass:\"player\"},[_c('transition',{attrs:{\"name\":\"normal\"},on:{\"enter\":_vm.enter,\"after-enter\":_vm.afterEnter,\"leave\":_vm.leave,\"after-leave\":_vm.afterLeave}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fullScreen),expression:\"fullScreen\"}],staticClass:\"normal-player\"},[_c('div',{staticClass:\"background\"},[_c('img',{attrs:{\"src\":_vm.currentSong.image,\"width\":\"100%\",\"height\":\"100%\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('h1',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.name)}}),_vm._v(\" \"),_c('h2',{staticClass:\"subtitle\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.singer)}})]),_vm._v(\" \"),_c('div',{staticClass:\"middle\",on:{\"touchstart\":function($event){$event.preventDefault();return _vm.middleTouchStart($event)},\"touchmove\":function($event){$event.preventDefault();return _vm.middleTouchMove($event)},\"touchend\":_vm.middleTouchEnd}},[_c('div',{ref:\"middleL\",staticClass:\"middle-l\"},[_c('div',{ref:\"cdwrapper\",staticClass:\"cd-wrapper\"},[_c('div',{staticClass:\"cd\",class:_vm.cdCls},[_c('img',{staticClass:\"image\",attrs:{\"src\":_vm.currentSong.image,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"playing-lyric-wrapper\"},[_c('div',{staticClass:\"playing-lyric\"},[_vm._v(_vm._s(_vm.playingLyric))])])]),_vm._v(\" \"),_c('scroll',{ref:\"lyricList\",staticClass:\"middle-r\",attrs:{\"data\":_vm.currentLyric && _vm.currentLyric.lines}},[_c('div',{staticClass:\"lyric-wrapper\"},[(_vm.currentLyric)?_c('div',_vm._l((_vm.currentLyric.lines),function(line,index){return _c('p',{ref:\"lyricLine\",refInFor:true,staticClass:\"text\",class:{'current': _vm.currentLineNum ===index}},[_vm._v(_vm._s(line.txt))])})):_vm._e()])])],1),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"dot-wrapper\"},[_c('span',{staticClass:\"dot\",class:{'active':_vm.currentShow==='cd'}}),_vm._v(\" \"),_c('span',{staticClass:\"dot\",class:{'active':_vm.currentShow==='lyric'}})]),_vm._v(\" \"),_c('div',{staticClass:\"progress-wrapper\"},[_c('span',{staticClass:\"time time-l\"},[_vm._v(_vm._s(_vm.format(_vm.currentTime)))]),_vm._v(\" \"),_c('span',{staticClass:\"progress-bar-wrapper\"},[_c('ProgressBar',{attrs:{\"precent\":_vm.precent},on:{\"percentChange\":_vm.onProgressBarChange}})],1),_vm._v(\" \"),_c('span',{staticClass:\"time time-r\"},[_vm._v(_vm._s(_vm.format(_vm.currentSong.duration)))])]),_vm._v(\" \"),_c('div',{staticClass:\"operators\"},[_c('div',{staticClass:\"icon i-left\"},[_c('i',{class:_vm.iconMode,on:{\"click\":_vm.changeMode}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon i-left\",class:_vm.disableCls},[_c('i',{staticClass:\"icon-prev\",on:{\"click\":_vm.prev}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon i-center\",class:_vm.disableCls},[_c('i',{class:_vm.palyIcon,on:{\"click\":_vm.togglePlaying}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon i-right\",class:_vm.disableCls},[_c('i',{staticClass:\"icon-next\",on:{\"click\":_vm.next}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon i-right\"},[_c('i',{staticClass:\"icon icon-not-favorite\"})])])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"mini\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.fullScreen),expression:\"!fullScreen\"}],staticClass:\"mini-player\",on:{\"click\":_vm.open}},[_c('div',{staticClass:\"icon\"},[_c('img',{class:_vm.cdCls,attrs:{\"src\":_vm.currentSong.image,\"width\":\"40\",\"height\":\"40\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_c('h2',{staticClass:\"name\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.name)}}),_vm._v(\" \"),_c('p',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.singer)}})]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('progress-circle',{attrs:{\"radius\":32,\"precent\":_vm.precent}},[_c('i',{staticClass:\"icon-mini\",class:_vm.miniIcon,on:{\"click\":function($event){$event.stopPropagation();return _vm.togglePlaying($event)}}})])],1),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('i',{staticClass:\"icon-playlist\"})])])]),_vm._v(\" \"),_c('audio',{ref:\"audio\",attrs:{\"src\":_vm.currentSong.url},on:{\"ended\":_vm.end,\"canplay\":_vm.ready,\"error\":_vm.error,\"timeupdate\":_vm.updateTime}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-679bd21c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/player/player.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-679bd21c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./player.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./player.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./player.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-679bd21c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./player.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-679bd21c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/player/player.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <m-header></m-header>\r\n    <tab></tab>\r\n    <transition name=\"router-fade\" mode=\"out-in\">\r\n      <keep-alive>\r\n        <router-view></router-view>\r\n      </keep-alive>\r\n    </transition>\r\n    <player></player>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import MHeader from 'components/m-header/m-header.vue'\r\n  import tab from 'components/tab/tab.vue'\r\n  import Player from 'components/player/player.vue'\r\n  export default {\r\n    components: {\r\n      MHeader,\r\n      tab,\r\n      Player\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\">\r\n  .router-fade-enter-active, .router-fade-leave-active\r\n    transition: opacity .3s\r\n\r\n  .router-fade-enter, .router-fade-leave-active\r\n    opacity: 0;\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('m-header'),_vm._v(\" \"),_c('tab'),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"router-fade\",\"mode\":\"out-in\"}},[_c('keep-alive',[_c('router-view')],1)],1),_vm._v(\" \"),_c('player')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a0f6f70\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0a0f6f70\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a0f6f70\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0a0f6f70\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from \"vue\";\r\nimport Router from \"vue-router\";\r\n\r\nVue.use(Router)\r\n\r\nconst Recommend = (resolve) => {\r\n  import('components/recommend/recommend').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\nconst Singer = (resolve) => {\r\n  import('components/singer/singer').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\nconst SingerDetail = (resolve) => {\r\n  import('components/singer-detail/singer-detail').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\n\r\nconst Rank = (reslove) => {\r\n  import('components/rank/rank').then((module) => {\r\n    reslove(module)\r\n  })\r\n}\r\n\r\nconst Disc = (resolve) => {\r\n  import('components/disc/disc').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\n\r\nconst TopList = (resolve) => {\r\n  import('components/top-list/top-list').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\n\r\nconst Search = (resolve) => {\r\n  import('components/search/search').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\n\r\nexport default new Router({\r\n  linkActiveClass: 'active',\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      redirect: '/recommend'\r\n    },\r\n    {\r\n      path: '/recommend',\r\n      component: Recommend,\r\n      children: [\r\n        {\r\n          path: ':id',\r\n          component: Disc\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: '/singer',\r\n      component: Singer,\r\n      children:[\r\n        {\r\n          path: ':id',\r\n          component: SingerDetail\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: '/rank',\r\n      component: Rank,\r\n      children: [\r\n        {\r\n          path: ':id',\r\n          component: TopList\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: '/search',\r\n      component: Search,\r\n      children: [\r\n        {\r\n          path: ':id',\r\n          component: SingerDetail\r\n        }\r\n      ]\r\n    },\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","/**\r\n * Created by bsj01 on 2018/1/22.\r\n * 异步修改，操作使用, 多个mutation 用action 封装\r\n */\r\n\r\nimport * as types from './mutations-types'\r\nimport {playMode} from 'common/js/config'\r\nimport {shuffle} from 'common/js/util'\r\n\r\nexport const selectPlay = function ({commit, state}, {list, index}) {\r\n  commit(types.SET_SEQUENCE_LIST, list)\r\n  commit(types.SET_PLAYLIST, list)\r\n  commit(types.SET_CURRENT_INDEX, index)\r\n  commit(types.SET_FULL_SCREEN, true)\r\n  commit(types.SET_PLAYING_STATE, true)\r\n\r\n}\r\n\r\nexport const randomPlay = function ({commit}, {list}) {\r\n  commit(types.SET_PLAY_MODE, playMode.random)\r\n  commit(types.SET_SEQUENCE_LIST, list)\r\n  let randomList = shuffle(list)\r\n  commit(types.SET_PLAYLIST, randomList)\r\n  commit(types.SET_CURRENT_INDEX, 0) //第一首个开始播放\r\n  commit(types.SET_FULL_SCREEN, true)\r\n  commit(types.SET_PLAYING_STATE, true)\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","/**\r\n * Created by bsj01 on 2018/1/22.\r\n * 常量用来语法检测的\r\n *\r\n */\r\nexport const SET_SINGER = 'SET_SINGER'\r\n\r\nexport const SET_PLAYING_STATE = 'SET_PLAYING_STATE'\r\n\r\nexport const SET_FULL_SCREEN = 'SET_FULL_SCREEN'\r\n\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST'\r\n\r\nexport const SET_SEQUENCE_LIST = 'SET_SEQUENCE_LIST'\r\n\r\nexport const SET_PLAY_MODE = 'SET_PLAY_MODE'\r\n\r\nexport const SET_CURRENT_INDEX = 'SET_CURRENT_INDEX'\r\n\r\nexport const SET_DISC = 'SET_DISC'\r\n\r\nexport const SET_TOP_LIST ='SET_TOP_LIST'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations-types.js","/**\r\n * Created by bsj01 on 2018/1/22.\r\n * 获取映射\r\n */\r\n\r\nexport const singer = state => state.singer\r\nexport const playing = state => state.playing\r\nexport const fullScreen = state => state.fullScreen\r\nexport const playlist = state => state.playlist\r\nexport const sequenceList = state => state.sequenceList\r\nexport const mode = state => state.mode\r\nexport const currentIndex = state => state.currentIndex\r\nexport const currentSong = (state) => {\r\n  //根据播放列表的索引去计算当前播放的歌曲\r\n  return state.playlist[state.currentIndex] || {}\r\n}\r\nexport const disc = state => state.disc\r\n\r\nexport const topList = state => state.topList\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import {playMode} from 'common/js/config'\r\nconst state = {\r\n  //要传递的数据\r\n  singer: {},\r\n  playing: false,\r\n  fullScreen: false,\r\n  playlist: [],\r\n  sequenceList: [],\r\n  mode: playMode.sequence,\r\n  currentIndex:-1,\r\n  disc:{},\r\n  topList:{}\r\n\r\n}\r\nexport default state\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","/**\r\n * Created by bsj01 on 2018/1/22.\r\n *\r\n */\r\n\r\nimport * as types from \"./mutations-types\";\r\n\r\nconst mutations = {   //mutations 与mutations-types关联用来检测语法  （常量检测不到）\r\n  [types.SET_SINGER](state, singer) {\r\n    state.singer = singer\r\n  },\r\n  [types.SET_PLAYING_STATE](state, flag){\r\n    state.playing = flag\r\n  },\r\n  [types.SET_FULL_SCREEN](state, flag){\r\n    state.fullScreen = flag\r\n  },\r\n  [types.SET_PLAYLIST](state, list){\r\n    state.playlist = list\r\n  },\r\n  [types.SET_SEQUENCE_LIST](state, list){\r\n    state.sequenceList = list\r\n  },\r\n  [types.SET_PLAY_MODE](state, mode){\r\n    state.mode = mode\r\n  },\r\n  [types.SET_CURRENT_INDEX](state, index){\r\n    state.currentIndex = index\r\n\r\n  },\r\n  [types.SET_DISC](state, disc) {\r\n    state.disc = disc\r\n  },\r\n  [types.SET_TOP_LIST](state, toplist){\r\n    state.topList = toplist\r\n  }\r\n\r\n}\r\n\r\nexport default mutations\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","/**\r\n * Created by bsj01 on 2018/1/22.\r\n */\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nimport * as actions from './actions'  //es6语法规范 *as 与{actions}相同  表示XXX.XXX()\r\nimport * as getters from './getters'\r\nimport state from './state'\r\nimport mutations from './mutations'\r\nimport createLogger from 'vuex/dist/logger'  //在通过mutation 去修改state 时候会看到控制台的日志  修改前后状态\r\nconst debug = process.env.NODE_ENV !== 'production'\r\n// state修改检测  是不是通过mutations修改的  否则报错的\r\n\r\n\r\nVue.use(Vuex)//注册插件\r\n\r\nexport default new Vuex.Store({\r\n  //工厂方式创建vuex的实例\r\n  actions,\r\n  getters,\r\n  state,\r\n  mutations,\r\n  strict: debug,   //开发环境的时候开启debug  线上关闭  否则占用资源\r\n  plugins: debug ? [createLogger()] : []\r\n})\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './store'\r\nimport VueLazyload from 'vue-lazyload'\r\nimport 'common/stylus/index.styl'\r\n\r\nVue.config.productionTip = false;\r\nVue.use(VueLazyload, {\r\n  loading: require('common/image/loading1.gif')\r\n})\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  template: '<App/>',\r\n  components: {App}\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = __webpack_public_path__ + \"static/img/loading1.a20d7d3.gif\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/image/loading1.gif\n// module id = m3Y0\n// module chunks = 9","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab\"},[_c('router-link',{staticClass:\"tab-item\",attrs:{\"tag\":\"div\",\"to\":\"/recommend\"}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"推荐\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-item\",attrs:{\"tag\":\"div\",\"to\":\"/singer\"}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"歌手\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-item\",attrs:{\"tag\":\"div\",\"to\":\"/rank\"}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"排行\\n    \")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-item\",attrs:{\"tag\":\"div\",\"to\":\"/search\"}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"搜索\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1219d67c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/tab/tab.vue\n// module id = q8qO\n// module chunks = 9","<template>\r\n  <div ref=\"wrapper\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import BScroll from 'better-scroll'\r\n\r\n  export default {\r\n    props: {\r\n      probeType: {\r\n        type: Number,\r\n        default: 1\r\n      },\r\n      click: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      data: {\r\n        type: Array,\r\n        default: null\r\n      },\r\n      listenScroll: {   //监听gcsroll是否需滚动\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      pullup: { //监听是否需要上拉刷新\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n    },\r\n    mounted() {\r\n      setTimeout(() => {\r\n        this._initScroll()\r\n      }, 20)\r\n    },\r\n    methods: {\r\n      _initScroll() {\r\n        if (!this.$refs.wrapper) {\r\n          return\r\n        }\r\n        this.scroll = new BScroll(this.$refs.wrapper, {\r\n          probeType: this.probeType,\r\n          click: this.click\r\n        })\r\n        if (this.listenScroll) {  //初始化时候监听滚动事件，拿到滚动位置\r\n          let me = this  //保留vue实例的scroll\r\n          this.scroll.on('scroll', (pos) => {\r\n            //拿到pos这个位置  派发个事件出去\r\n            me.$emit('scroll', pos)  //（pos 是个对象有X Y轴的属性）\r\n\r\n          })\r\n        }\r\n        if (this.pullup) {  //上拉刷新\r\n          this.scroll.on('scrollEnd', () => { //检测事件\r\n            if (this.scroll.y <= (this.scroll.maxScrollY + 50)) { //判断当达到底部时候 派发一个事件\r\n              this.$emit('scrollToEnd')\r\n            }\r\n          })\r\n        }\r\n      },\r\n      disable() {\r\n        this.scroll && this.scroll.disable()\r\n      },\r\n      enable() {\r\n        this.scroll && this.scroll.enable()\r\n      },\r\n      refresh() {\r\n        this.scroll && this.scroll.refresh()\r\n      },\r\n      scrollTo() {  //调用自带的scoollto方法\r\n        this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)  //apply是因为scrollto需要接受参数\r\n      },\r\n      scrollToElement() {\r\n        this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\r\n      },\r\n\r\n\r\n    },\r\n    watch: {\r\n      data() {\r\n        setTimeout(() => {\r\n          this.refresh()\r\n        }, 20)\r\n      }\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"stylus\" type=\"text/stylus\" rel=\"stylesheet/stylus\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/scroll/scroll.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-383f9aa0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/scroll/scroll.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-383f9aa0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./scroll.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./scroll.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./scroll.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-383f9aa0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./scroll.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-383f9aa0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/scroll/scroll.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}